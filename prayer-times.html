<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prayer Times — Rahma Islamic Centre</title>
    <link rel="icon" type="image/png" href="logo.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Cinzel:wght@400;600;700&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        .schedule-section { background: var(--cream); padding: 80px 24px; }
        .month-selector-wrap { display: flex; align-items: center; justify-content: space-between; margin-bottom: 40px; flex-wrap: wrap; gap: 16px; }
        .month-dropdown { padding: 12px 44px 12px 20px; border: 1px solid var(--border); background: var(--white); color: var(--navy); font-family: 'Cinzel', serif; font-size: 0.85rem; letter-spacing: 0.1em; outline: none; cursor: pointer; appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath fill='%23C9A84C' d='M6 8L0 0h12z'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 16px center; min-width: 200px; }
        .print-btn { padding: 12px 28px; border: 1px solid var(--border); background: var(--navy); color: var(--gold); font-family: 'Cinzel', serif; font-size: 0.75rem; letter-spacing: 0.15em; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; gap: 10px; }
        .print-btn:hover { background: var(--navy-mid); }
        .prayer-table-wrapper { overflow-x: auto; border: 1px solid var(--border); margin-bottom: 60px; }
        .prayer-table { width: 100%; border-collapse: collapse; min-width: 800px; }
        .prayer-table thead .month-row th { background: var(--navy); color: var(--gold); font-family: 'Cormorant Garamond', serif; font-size: 2rem; font-weight: 300; padding: 20px; text-align: center; letter-spacing: 0.1em; }
        .prayer-table thead .prayer-names-row th, .prayer-table thead .column-headers th { background: var(--navy-mid); color: var(--white); font-family: 'Cinzel', serif; font-size: 0.72rem; letter-spacing: 0.1em; padding: 12px 8px; text-align: center; border: 1px solid rgba(255,255,255,0.1); }
        .prayer-table thead .column-headers th { font-weight: 400; color: rgba(255,255,255,0.7); font-size: 0.65rem; }
        .prayer-table tbody tr { border-bottom: 1px solid rgba(201,168,76,0.1); transition: background 0.2s; }
        .prayer-table tbody tr:hover { background: rgba(201,168,76,0.05); }
        .prayer-table tbody td { padding: 11px 10px; text-align: center; font-size: 0.85rem; color: var(--text); }
        .prayer-table tbody td:nth-child(1) { font-family: 'Cinzel', serif; font-size: 0.72rem; color: var(--muted); }
        .prayer-table tbody .friday-row { background: rgba(201,168,76,0.06); }
        .prayer-table tbody .friday-row td { font-weight: 500; color: var(--navy); }
        .prayer-table tbody .today-row td { font-weight: 700; color: var(--navy); }
        .prayer-table tbody .today-row { background: rgba(201,168,76,0.1); outline: 2px solid var(--gold); }
        .prayer-table tfoot td { background: var(--navy); color: rgba(255,255,255,0.6); font-size: 0.82rem; padding: 16px; text-align: center; }
        .prayer-table tfoot strong { color: var(--gold); }
        .today-widget { background: var(--navy); padding: 60px 24px; position: relative; overflow: hidden; }
        .today-widget-pattern { position: absolute; top: 50%; left: 50%; width: 160%; height: 160%; transform: translate(-50%,-50%); background-image: url('islamic-pattern.png'); background-repeat: repeat; background-size: 350px; opacity: 0.05; pointer-events: none; animation: patternRotate 80s linear infinite; }
        .today-widget-inner { position: relative; z-index: 1; max-width: 1200px; margin: 0 auto; }
        .today-widget h2 { font-family: 'Cormorant Garamond', serif; font-size: 2.2rem; font-weight: 300; color: var(--white); margin-bottom: 8px; }
        .today-widget .loc { font-size: 0.8rem; color: rgba(255,255,255,0.5); letter-spacing: 0.08em; margin-bottom: 40px; }
        .today-widget .loc i { color: var(--gold); margin-right: 6px; }
        .today-prayers-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 0; border: 1px solid var(--border); margin-bottom: 24px; }
        .today-prayer-item { padding: 28px 16px; text-align: center; border-right: 1px solid var(--border); transition: background 0.3s; }
        .today-prayer-item:last-child { border-right: none; }
        .today-prayer-item:hover { background: rgba(201,168,76,0.07); }
        .today-prayer-item i { font-size: 1.3rem; color: var(--gold); display: block; margin-bottom: 12px; opacity: 0.8; }
        .today-prayer-item h3 { font-family: 'Cinzel', serif; font-size: 0.7rem; letter-spacing: 0.15em; color: rgba(255,255,255,0.5); margin-bottom: 10px; text-transform: uppercase; }
        .today-prayer-item .t-time { font-family: 'Cormorant Garamond', serif; font-size: 1.6rem; font-weight: 400; color: var(--white); }
        .jumuah-note-box { padding: 18px 24px; border: 1px solid var(--border); background: rgba(201,168,76,0.06); font-size: 0.85rem; color: rgba(255,255,255,0.65); display: flex; align-items: center; gap: 12px; flex-wrap: wrap; }
        .jumuah-note-box i { color: var(--gold); }
        .jumuah-note-box strong { color: var(--gold-light); }
        @media (max-width: 700px) { .today-prayers-grid { grid-template-columns: repeat(2,1fr); } .today-prayer-item:nth-child(2){ border-right:none; } .today-prayer-item:nth-child(n+3){ border-top:1px solid var(--border); } .today-prayer-item:nth-child(4){ border-right:none; } }
    </style>
</head>
<body>
    <div id="loader"><div class="loader-text">RAHMA</div><div class="loader-bar"><div class="loader-fill"></div></div></div>
    <div class="mobile-menu" id="mobileMenu">
        <a href="index.html" onclick="closeMobile()">Home</a>
        <a href="prayer-times.html" onclick="closeMobile()">Prayer Times</a>
        <a href="activities.html" onclick="closeMobile()">Activities</a>
        <a href="about.html" onclick="closeMobile()">About Us</a>
        <a href="contact.html" onclick="closeMobile()">Contact</a>
        <a href="donate.html" class="mobile-donate" onclick="closeMobile()">Donate</a>
    </div>
    <nav class="navbar" id="navbar">
        <div class="navbar-inner">
            <a href="index.html" class="logo-wrap"><img src="logo.png" alt="Rahma Logo" class="logo-img"><div class="logo-text">Rahma Islamic Centre<span>Winnipeg, Canada</span></div></a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li><li><a href="prayer-times.html" class="active">Prayer Times</a></li>
                <li><a href="activities.html">Activities</a></li><li><a href="about.html">About Us</a></li><li><a href="contact.html">Contact</a></li>
            </ul>
            <a href="donate.html" class="nav-donate">Donate</a>
            <div class="hamburger" id="hamburger" onclick="toggleMobile()"><span></span><span></span><span></span></div>
        </div>
    </nav>
    <div class="page-header">
        <div class="page-header-pattern"></div><div class="page-header-overlay"></div>
        <div class="page-header-content"><span class="page-header-eyebrow">Winnipeg, MB — ISNA Method</span><h1>Prayer <em>Times</em></h1></div>
    </div>
    <section class="schedule-section">
        <div class="container">
            <div class="month-selector-wrap reveal">
                <select id="monthPicker" class="month-dropdown">
                    <option value="1">January</option><option value="2">February</option><option value="3">March</option><option value="4">April</option>
                    <option value="5">May</option><option value="6">June</option><option value="7">July</option><option value="8">August</option>
                    <option value="9">September</option><option value="10">October</option><option value="11">November</option><option value="12">December</option>
                </select>
                <button class="print-btn" onclick="window.print()"><i class="fas fa-print"></i> Print Schedule</button>
            </div>
            <div class="prayer-table-wrapper reveal"><table class="prayer-table" id="prayerTable"></table></div>
        </div>
    </section>
    <div class="today-widget">
        <div class="today-widget-pattern"></div>
        <div class="today-widget-inner">
            <h2>Today's Prayer Times</h2>
            <p class="loc"><i class="fas fa-map-marker-alt"></i> 574 Watt St, Winnipeg, MB R2K 4K1</p>
            <div class="today-prayers-grid">
                <div class="today-prayer-item"><i class="fas fa-moon"></i><h3>Fajr</h3><div class="t-time" id="today-fajr">—</div></div>
                <div class="today-prayer-item"><i class="fas fa-sun"></i><h3>Dhuhr</h3><div class="t-time" id="today-dhuhr">—</div></div>
                <div class="today-prayer-item"><i class="fas fa-cloud-sun"></i><h3>Asr</h3><div class="t-time" id="today-asr">—</div></div>
                <div class="today-prayer-item"><i class="fas fa-cloud-moon"></i><h3>Maghrib</h3><div class="t-time" id="today-maghrib">—</div></div>
                <div class="today-prayer-item"><i class="fas fa-star"></i><h3>Isha</h3><div class="t-time" id="today-isha">—</div></div>
            </div>
            <div class="jumuah-note-box"><i class="fas fa-mosque"></i><span><strong>Jumu'ah:</strong> 12:30 pm &amp; 1:20 pm — Chalmers Community Centre, 480 Chalmers Ave, Winnipeg, MB R2L 0G5</span></div>
        </div>
    </div>
    <section class="newsletter-section"><div class="container"><div class="newsletter-inner">
        <div class="newsletter-text"><h3>Stay Connected</h3><p>Get updates on events &amp; announcements</p></div>
        <form class="newsletter-form" onsubmit="subscribeNewsletter(event)"><input type="email" class="newsletter-input" placeholder="Your email address" required><button type="submit" class="newsletter-btn">Subscribe</button></form>
    </div></div></section>
    <footer class="footer"><div class="container">
        <div class="footer-grid">
            <div class="footer-brand"><span class="logo-text-footer">Rahma Islamic Centre</span><p>A vibrant Islamic center serving Muslims in Winnipeg since 2016.</p><div class="footer-social"><a href="#"><i class="fab fa-facebook-f"></i></a><a href="#"><i class="fab fa-youtube"></i></a><a href="#"><i class="fab fa-instagram"></i></a></div></div>
            <div class="footer-col"><h4>Navigation</h4><ul><li><a href="index.html">Home</a></li><li><a href="prayer-times.html">Prayer Times</a></li><li><a href="activities.html">Activities</a></li><li><a href="about.html">About Us</a></li><li><a href="contact.html">Contact</a></li></ul></div>
            <div class="footer-col"><h4>Programs</h4><ul><li><a href="activities.html">Sisters' Halaqa</a></li><li><a href="activities.html">Kids Quran Class</a></li><li><a href="activities.html">Quran Hifz</a></li><li><a href="activities.html">Study Club</a></li></ul></div>
            <div class="footer-col"><h4>Contact</h4><div class="contact-li"><i class="fas fa-map-marker-alt"></i><span>574 Watt St, Winnipeg, MB R2K 4K1</span></div><div class="contact-li"><i class="fas fa-phone"></i><span>+1 (431) 792-3791</span></div><div class="contact-li"><i class="fas fa-envelope"></i><span><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d0b9beb6bf90a2b1b8bdb1b3b5bea4a2b5feb3b1">[email&#160;protected]</a></span></div></div>
        </div>
        <div class="footer-bottom"><span>Copyright &copy; 2026 Rahma Islamic Centre. All rights reserved.</span><span>Powered by Devodez Solutions</span></div>
    </div></footer>
    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="shared.js"></script>
    <script>
        const M = { lat:49.8951, lng:-97.1384, method:2 };
        function addMins(t,m){ const[h,mn]=t.split(':'); let tot=parseInt(h)*60+parseInt(mn)+m; return String(Math.floor(tot/60)%24).padStart(2,'0')+':'+String(tot%60).padStart(2,'0'); }
        async function loadMonth(y,mo){
            try{
                const r=await fetch(`https://api.aladhan.com/v1/calendar/${y}/${mo}?latitude=${M.lat}&longitude=${M.lng}&method=${M.method}`);
                const d=await r.json(); if(d.code===200) buildTable(d.data,mo);
            }catch(e){ document.getElementById('prayerTable').innerHTML='<tr><td colspan="13" style="padding:30px;text-align:center">Unable to load prayer times.</td></tr>'; }
        }
        function buildTable(days,mo){
            const ns=['','January','February','March','April','May','June','July','August','September','October','November','December'];
            const t=new Date(),td=t.getDate(),tm=t.getMonth()+1,ty=t.getFullYear();
            let h=`<thead><tr class="month-row"><th colspan="13">${ns[mo]}</th></tr>
            <tr class="prayer-names-row"><th rowspan="2">Date</th><th rowspan="2">Day</th><th colspan="3">Fajr</th><th colspan="2">Zuhr</th><th colspan="2">Asr</th><th colspan="2">Maghrib</th><th colspan="2">Isha</th></tr>
            <tr class="column-headers"><th>Athan</th><th>Iqamah</th><th>Sunrise</th><th>Athan</th><th>Iqamah</th><th>Athan</th><th>Iqamah</th><th>Athan</th><th>Iqamah</th><th>Athan</th><th>Iqamah</th></tr></thead><tbody>`;
            days.forEach(day=>{
                const g=day.date.gregorian,ti=day.timings,fri=g.weekday.en==='Friday';
                const isToday=parseInt(g.day)===td&&mo===tm&&parseInt(g.year)===ty;
                const cls=isToday?'today-row':fri?'friday-row':'';
                h+=`<tr class="${cls}"><td>${g.day}</td><td>${g.weekday.en.slice(0,3)}</td>
                <td>${formatTime(ti.Fajr)}</td><td>${formatTime(addMins(ti.Fajr,15))}</td><td>${formatTime(ti.Sunrise)}</td>
                <td>${formatTime(ti.Dhuhr)}</td><td>${fri?'<strong style="color:var(--gold);font-size:0.8em">Jumu\'ah<br>12:30/1:20</strong>':formatTime(addMins(ti.Dhuhr,20))}</td>
                <td>${formatTime(ti.Asr)}</td><td>${formatTime(addMins(ti.Asr,15))}</td>
                <td>${formatTime(ti.Maghrib)}</td><td>${formatTime(addMins(ti.Maghrib,5))}</td>
                <td>${formatTime(ti.Isha)}</td><td>${formatTime(addMins(ti.Isha,15))}</td></tr>`;
            });
            h+=`</tbody><tfoot><tr><td colspan="13"><strong>Jumu'ah:</strong> Chalmers Community Centre — 480 Chalmers Ave, Winnipeg, MB | 12:30 pm &amp; 1:20 pm</td></tr></tfoot>`;
            document.getElementById('prayerTable').innerHTML=h;
        }
        async function loadToday(){
            const d=new Date();
            try{
                const r=await fetch(`https://api.aladhan.com/v1/timings/${d.getDate()}-${d.getMonth()+1}-${d.getFullYear()}?latitude=${M.lat}&longitude=${M.lng}&method=${M.method}`);
                const data=await r.json(); if(data.code===200){const t=data.data.timings;['fajr','dhuhr','asr','maghrib','isha'].forEach((id,i)=>{document.getElementById('today-'+id).textContent=formatTime(t[['Fajr','Dhuhr','Asr','Maghrib','Isha'][i]]);});}
            }catch(e){}
        }
        document.getElementById('monthPicker').addEventListener('change',e=>loadMonth(new Date().getFullYear(),parseInt(e.target